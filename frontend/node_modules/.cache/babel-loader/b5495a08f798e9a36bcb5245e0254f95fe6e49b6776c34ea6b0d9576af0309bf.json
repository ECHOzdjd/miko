{"ast":null,"code":"import React from'react';import{useQuery}from'react-query';import{authApi}from'../api/auth';import PostCard from'../components/Post/PostCard';import PostSkeleton from'../components/Post/PostSkeleton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Bookmarks=()=>{var _data$results;const{data,isLoading,error}=useQuery({queryKey:['bookmarkedPosts'],queryFn:()=>authApi.getUserBookmarkedPosts()});if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u52A0\\u8F7D\\u5931\\u8D25\\uFF0C\\u8BF7\\u7A0D\\u540E\\u91CD\\u8BD5\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u6211\\u7684\\u6536\\u85CF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"\\u67E5\\u770B\\u60A8\\u6536\\u85CF\\u7684\\u6240\\u6709\\u5E16\\u5B50\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:isLoading?// 骨架屏\nArray.from({length:5}).map((_,index)=>/*#__PURE__*/_jsx(PostSkeleton,{},index)):data!==null&&data!==void 0&&(_data$results=data.results)!==null&&_data$results!==void 0&&_data$results.length?data.results.map(post=>/*#__PURE__*/_jsx(PostCard,{post:post},post.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u6682\\u65E0\\u6536\\u85CF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u60A8\\u8FD8\\u6CA1\\u6709\\u6536\\u85CF\\u4EFB\\u4F55\\u5E16\\u5B50\"})]})}),(data===null||data===void 0?void 0:data.next)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",children:\"\\u52A0\\u8F7D\\u66F4\\u591A\"})})]});};export default Bookmarks;","map":{"version":3,"names":["React","useQuery","authApi","PostCard","PostSkeleton","jsx","_jsx","jsxs","_jsxs","Bookmarks","_data$results","data","isLoading","error","queryKey","queryFn","getUserBookmarkedPosts","className","children","Array","from","length","map","_","index","results","post","id","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","next"],"sources":["D:/miko/frontend/src/pages/Bookmarks.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { authApi } from '../api/auth';\r\nimport PostCard from '../components/Post/PostCard';\r\nimport PostSkeleton from '../components/Post/PostSkeleton';\r\n\r\nconst Bookmarks: React.FC = () => {\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: ['bookmarkedPosts'],\r\n    queryFn: () => authApi.getUserBookmarkedPosts(),\r\n  });\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-gray-500\">加载失败，请稍后重试</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      {/* 页面标题 */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">我的收藏</h1>\r\n        <p className=\"text-gray-600 mt-2\">查看您收藏的所有帖子</p>\r\n      </div>\r\n\r\n      {/* 收藏的帖子列表 */}\r\n      <div className=\"space-y-6\">\r\n        {isLoading ? (\r\n          // 骨架屏\r\n          Array.from({ length: 5 }).map((_, index) => (\r\n            <PostSkeleton key={index} />\r\n          ))\r\n        ) : data?.results?.length ? (\r\n          data.results.map((post: any) => (\r\n            <PostCard key={post.id} post={post} />\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\r\n              <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">暂无收藏</h3>\r\n            <p className=\"text-gray-500\">您还没有收藏任何帖子</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 加载更多 */}\r\n      {data?.next && (\r\n        <div className=\"text-center mt-8\">\r\n          <button className=\"btn-outline\">\r\n            加载更多\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bookmarks;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,CAAAC,QAAQ,KAAM,6BAA6B,CAClD,MAAO,CAAAC,YAAY,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,SAAmB,CAAGA,CAAA,GAAM,KAAAC,aAAA,CAChC,KAAM,CAAEC,IAAI,CAAEC,SAAS,CAAEC,KAAM,CAAC,CAAGZ,QAAQ,CAAC,CAC1Ca,QAAQ,CAAE,CAAC,iBAAiB,CAAC,CAC7BC,OAAO,CAAEA,CAAA,GAAMb,OAAO,CAACc,sBAAsB,CAAC,CAChD,CAAC,CAAC,CAEF,GAAIH,KAAK,CAAE,CACT,mBACEP,IAAA,QAAKW,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCZ,IAAA,MAAGW,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,8DAAU,CAAG,CAAC,CACxC,CAAC,CAEV,CAEA,mBACEV,KAAA,QAAKS,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAEhCV,KAAA,QAAKS,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAC5EZ,IAAA,OAAIW,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAC1DZ,IAAA,MAAGW,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,8DAAU,CAAG,CAAC,EAC7C,CAAC,cAGNZ,IAAA,QAAKW,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBN,SAAS,CACR;AACAO,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBACrClB,IAAA,CAACF,YAAY,IAAMoB,KAAQ,CAC5B,CAAC,CACAb,IAAI,SAAJA,IAAI,YAAAD,aAAA,CAAJC,IAAI,CAAEc,OAAO,UAAAf,aAAA,WAAbA,aAAA,CAAeW,MAAM,CACvBV,IAAI,CAACc,OAAO,CAACH,GAAG,CAAEI,IAAS,eACzBpB,IAAA,CAACH,QAAQ,EAAeuB,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACC,EAAiB,CACtC,CAAC,cAEFnB,KAAA,QAAKS,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCZ,IAAA,QAAKW,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FZ,IAAA,QAAKW,SAAS,CAAC,uBAAuB,CAACW,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAZ,QAAA,cAC1FZ,IAAA,SAAMyB,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,mDAAmD,CAAE,CAAC,CACxH,CAAC,CACH,CAAC,cACN5B,IAAA,OAAIW,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAChEZ,IAAA,MAAGW,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,8DAAU,CAAG,CAAC,EACxC,CACN,CACE,CAAC,CAGL,CAAAP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,IAAI,gBACT7B,IAAA,QAAKW,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BZ,IAAA,WAAQW,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,0BAEhC,CAAQ,CAAC,CACN,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}