{"ast":null,"code":"var _jsxFileName = \"D:\\\\miko\\\\frontend\\\\src\\\\pages\\\\Chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Send, MessageCircle } from 'lucide-react';\nimport { useAuthStore } from '../stores/authStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const {\n    user\n  } = useAuthStore();\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [chatUsers, setChatUsers] = useState([]);\n  const messagesEndRef = useRef(null);\n\n  // 模拟聊天用户数据\n  useEffect(() => {\n    setChatUsers([{\n      id: '1',\n      username: '小樱',\n      avatar: '/api/placeholder/40/40',\n      isOnline: true\n    }, {\n      id: '2',\n      username: '鸣人',\n      avatar: '/api/placeholder/40/40',\n      isOnline: false,\n      lastSeen: new Date(Date.now() - 30 * 60 * 1000) // 30分钟前\n    }, {\n      id: '3',\n      username: '路飞',\n      avatar: '/api/placeholder/40/40',\n      isOnline: true\n    }]);\n  }, []);\n\n  // 模拟消息数据\n  useEffect(() => {\n    if (selectedChat) {\n      var _user$id, _user$id2, _user$id3;\n      setMessages([{\n        id: '1',\n        content: '你好！最近怎么样？',\n        senderId: selectedChat,\n        receiverId: (user === null || user === void 0 ? void 0 : (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()) || '',\n        timestamp: new Date(Date.now() - 60 * 60 * 1000),\n        isRead: true\n      }, {\n        id: '2',\n        content: '还不错，你呢？最近在看什么动漫？',\n        senderId: (user === null || user === void 0 ? void 0 : (_user$id2 = user.id) === null || _user$id2 === void 0 ? void 0 : _user$id2.toString()) || '',\n        receiverId: selectedChat,\n        timestamp: new Date(Date.now() - 30 * 60 * 1000),\n        isRead: true\n      }, {\n        id: '3',\n        content: '在追《鬼灭之刃》，真的太好看了！',\n        senderId: selectedChat,\n        receiverId: (user === null || user === void 0 ? void 0 : (_user$id3 = user.id) === null || _user$id3 === void 0 ? void 0 : _user$id3.toString()) || '',\n        timestamp: new Date(Date.now() - 10 * 60 * 1000),\n        isRead: true\n      }]);\n    }\n  }, [selectedChat, user]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = () => {\n    var _user$id4;\n    if (!message.trim() || !selectedChat) return;\n    const newMessage = {\n      id: Date.now().toString(),\n      content: message,\n      senderId: (user === null || user === void 0 ? void 0 : (_user$id4 = user.id) === null || _user$id4 === void 0 ? void 0 : _user$id4.toString()) || '',\n      receiverId: selectedChat,\n      timestamp: new Date(),\n      isRead: false\n    };\n    setMessages(prev => [...prev, newMessage]);\n    setMessage('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const formatTime = date => {\n    return date.toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const selectedUser = chatUsers.find(u => u.id === selectedChat);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-[calc(100vh-4rem)] bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-80 border-r border-gray-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"\\u79C1\\u4FE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto\",\n        children: chatUsers.map(chatUser => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setSelectedChat(chatUser.id),\n          className: `p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${selectedChat === chatUser.id ? 'bg-primary-50 border-primary-200' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: chatUser.avatar,\n                alt: chatUser.username,\n                className: \"w-10 h-10 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), chatUser.isOnline && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 truncate\",\n                children: chatUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: chatUser.isOnline ? '在线' : `${formatTime(chatUser.lastSeen || new Date())} 最后在线`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)\n        }, chatUser.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), selectedChat ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200 flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.avatar,\n            alt: selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username,\n            className: \"w-8 h-8 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-900\",\n              children: selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: selectedUser !== null && selectedUser !== void 0 && selectedUser.isOnline ? '在线' : '离线'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n        children: [messages.map(msg => {\n          var _user$id5, _user$id6, _user$id7;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex ${msg.senderId === (user === null || user === void 0 ? void 0 : (_user$id5 = user.id) === null || _user$id5 === void 0 ? void 0 : _user$id5.toString()) ? 'justify-end' : 'justify-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${msg.senderId === (user === null || user === void 0 ? void 0 : (_user$id6 = user.id) === null || _user$id6 === void 0 ? void 0 : _user$id6.toString()) ? 'bg-primary-600 text-white' : 'bg-gray-100 text-gray-900'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs mt-1 ${msg.senderId === (user === null || user === void 0 ? void 0 : (_user$id7 = user.id) === null || _user$id7 === void 0 ? void 0 : _user$id7.toString()) ? 'text-primary-100' : 'text-gray-500'}`,\n                children: formatTime(msg.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)\n          }, msg.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: message,\n              onChange: e => setMessage(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: \"\\u8F93\\u5165\\u6D88\\u606F...\",\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n              rows: 1,\n              style: {\n                minHeight: '40px',\n                maxHeight: '120px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendMessage,\n            disabled: !message.trim(),\n            className: \"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n          className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"\\u9009\\u62E9\\u4E00\\u4E2A\\u804A\\u5929\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"\\u4ECE\\u5DE6\\u4FA7\\u9009\\u62E9\\u4E00\\u4E2A\\u7528\\u6237\\u5F00\\u59CB\\u804A\\u5929\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"KLs7MPJ90wBUdFysY6u4hPrthpE=\", false, function () {\n  return [useAuthStore];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Send","MessageCircle","useAuthStore","jsxDEV","_jsxDEV","Chat","_s","user","selectedChat","setSelectedChat","message","setMessage","messages","setMessages","chatUsers","setChatUsers","messagesEndRef","id","username","avatar","isOnline","lastSeen","Date","now","_user$id","_user$id2","_user$id3","content","senderId","receiverId","toString","timestamp","isRead","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","_user$id4","trim","newMessage","prev","handleKeyPress","e","key","shiftKey","preventDefault","formatTime","date","toLocaleTimeString","hour","minute","selectedUser","find","u","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","chatUser","onClick","src","alt","msg","_user$id5","_user$id6","_user$id7","ref","value","onChange","target","onKeyPress","placeholder","rows","style","minHeight","maxHeight","disabled","_c","$RefreshReg$"],"sources":["D:/miko/frontend/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Send, MessageCircle } from 'lucide-react';\nimport { useAuthStore } from '../stores/authStore';\n\ninterface Message {\n  id: string;\n  content: string;\n  senderId: string;\n  receiverId: string;\n  timestamp: Date;\n  isRead: boolean;\n}\n\ninterface ChatUser {\n  id: string;\n  username: string;\n  avatar: string;\n  isOnline: boolean;\n  lastSeen?: Date;\n}\n\nconst Chat: React.FC = () => {\n  const { user } = useAuthStore();\n  const [selectedChat, setSelectedChat] = useState<string | null>(null);\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [chatUsers, setChatUsers] = useState<ChatUser[]>([]);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  // 模拟聊天用户数据\n  useEffect(() => {\n    setChatUsers([\n      {\n        id: '1',\n        username: '小樱',\n        avatar: '/api/placeholder/40/40',\n        isOnline: true,\n      },\n      {\n        id: '2',\n        username: '鸣人',\n        avatar: '/api/placeholder/40/40',\n        isOnline: false,\n        lastSeen: new Date(Date.now() - 30 * 60 * 1000), // 30分钟前\n      },\n      {\n        id: '3',\n        username: '路飞',\n        avatar: '/api/placeholder/40/40',\n        isOnline: true,\n      },\n    ]);\n  }, []);\n\n  // 模拟消息数据\n  useEffect(() => {\n    if (selectedChat) {\n      setMessages([\n        {\n          id: '1',\n          content: '你好！最近怎么样？',\n          senderId: selectedChat,\n          receiverId: user?.id?.toString() || '',\n          timestamp: new Date(Date.now() - 60 * 60 * 1000),\n          isRead: true,\n        },\n        {\n          id: '2',\n          content: '还不错，你呢？最近在看什么动漫？',\n          senderId: user?.id?.toString() || '',\n          receiverId: selectedChat,\n          timestamp: new Date(Date.now() - 30 * 60 * 1000),\n          isRead: true,\n        },\n        {\n          id: '3',\n          content: '在追《鬼灭之刃》，真的太好看了！',\n          senderId: selectedChat,\n          receiverId: user?.id?.toString() || '',\n          timestamp: new Date(Date.now() - 10 * 60 * 1000),\n          isRead: true,\n        },\n      ]);\n    }\n  }, [selectedChat, user]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = () => {\n    if (!message.trim() || !selectedChat) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content: message,\n      senderId: user?.id?.toString() || '',\n      receiverId: selectedChat,\n      timestamp: new Date(),\n      isRead: false,\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setMessage('');\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const selectedUser = chatUsers.find(u => u.id === selectedChat);\n\n  return (\n    <div className=\"flex h-[calc(100vh-4rem)] bg-white\">\n      {/* 聊天列表 */}\n      <div className=\"w-80 border-r border-gray-200 flex flex-col\">\n        <div className=\"p-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">私信</h2>\n        </div>\n        \n        <div className=\"flex-1 overflow-y-auto\">\n          {chatUsers.map((chatUser) => (\n            <div\n              key={chatUser.id}\n              onClick={() => setSelectedChat(chatUser.id)}\n              className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\n                selectedChat === chatUser.id ? 'bg-primary-50 border-primary-200' : ''\n              }`}\n            >\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"relative\">\n                  <img\n                    src={chatUser.avatar}\n                    alt={chatUser.username}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                  {chatUser.isOnline && (\n                    <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">\n                    {chatUser.username}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    {chatUser.isOnline ? '在线' : `${formatTime(chatUser.lastSeen || new Date())} 最后在线`}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* 聊天区域 */}\n      {selectedChat ? (\n        <div className=\"flex-1 flex flex-col\">\n          {/* 聊天头部 */}\n          <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <img\n                src={selectedUser?.avatar}\n                alt={selectedUser?.username}\n                className=\"w-8 h-8 rounded-full object-cover\"\n              />\n              <div>\n                <h3 className=\"text-sm font-medium text-gray-900\">\n                  {selectedUser?.username}\n                </h3>\n                <p className=\"text-xs text-gray-500\">\n                  {selectedUser?.isOnline ? '在线' : '离线'}\n                </p>\n              </div>\n            </div>\n            \n          </div>\n\n          {/* 消息列表 */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {messages.map((msg) => (\n              <div\n                key={msg.id}\n                className={`flex ${msg.senderId === user?.id?.toString() ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                    msg.senderId === user?.id?.toString()\n                      ? 'bg-primary-600 text-white'\n                      : 'bg-gray-100 text-gray-900'\n                  }`}\n                >\n                  <p className=\"text-sm\">{msg.content}</p>\n                  <p\n                    className={`text-xs mt-1 ${\n                      msg.senderId === user?.id?.toString() ? 'text-primary-100' : 'text-gray-500'\n                    }`}\n                  >\n                    {formatTime(msg.timestamp)}\n                  </p>\n                </div>\n              </div>\n            ))}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* 消息输入 */}\n          <div className=\"p-4 border-t border-gray-200\">\n            <div className=\"flex items-end space-x-2\">\n              <div className=\"flex-1\">\n                <textarea\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"输入消息...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  rows={1}\n                  style={{ minHeight: '40px', maxHeight: '120px' }}\n                />\n              </div>\n              <button\n                onClick={handleSendMessage}\n                disabled={!message.trim()}\n                className=\"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                <Send className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\n          <div className=\"text-center\">\n            <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">选择一个聊天</h3>\n            <p className=\"text-gray-500\">从左侧选择一个用户开始聊天</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}