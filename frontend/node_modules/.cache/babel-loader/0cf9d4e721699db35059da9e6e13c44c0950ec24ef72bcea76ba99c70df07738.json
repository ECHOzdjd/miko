{"ast":null,"code":"import React from'react';import{Routes,Route}from'react-router-dom';import{useAuthStore}from'./stores/authStore';import Layout from'./components/Layout/Layout';import Home from'./pages/Home';import Login from'./pages/Auth/Login';import Register from'./pages/Auth/Register';import Profile from'./pages/Profile';import PostDetail from'./pages/PostDetail';import CreatePost from'./pages/CreatePost';import Bookmarks from'./pages/Bookmarks';import Conversations from'./pages/Conversations';import Chat from'./pages/Chat';import NotFound from'./pages/NotFound';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{isAuthenticated}=useAuthStore();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile/:userId\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"post/:postId\",element:/*#__PURE__*/_jsx(PostDetail,{})}),isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"create-post\",element:/*#__PURE__*/_jsx(CreatePost,{})}),/*#__PURE__*/_jsx(Route,{path:\"bookmarks\",element:/*#__PURE__*/_jsx(Bookmarks,{})}),/*#__PURE__*/_jsx(Route,{path:\"conversations\",element:/*#__PURE__*/_jsx(Conversations,{})})]})]}),isAuthenticated&&/*#__PURE__*/_jsx(Route,{path:\"chat/:conversationId\",element:/*#__PURE__*/_jsx(Chat,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})});}export default App;","map":{"version":3,"names":["React","Routes","Route","useAuthStore","Layout","Home","Login","Register","Profile","PostDetail","CreatePost","Bookmarks","Conversations","Chat","NotFound","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","isAuthenticated","className","children","path","element","index"],"sources":["D:/miko/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { useAuthStore } from './stores/authStore';\r\nimport Layout from './components/Layout/Layout';\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Auth/Login';\r\nimport Register from './pages/Auth/Register';\r\nimport Profile from './pages/Profile';\r\nimport PostDetail from './pages/PostDetail';\r\nimport CreatePost from './pages/CreatePost';\r\nimport Bookmarks from './pages/Bookmarks';\r\nimport Conversations from './pages/Conversations';\r\nimport Chat from './pages/Chat';\r\nimport NotFound from './pages/NotFound';\r\n\r\nfunction App() {\r\n  const { isAuthenticated } = useAuthStore();\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Routes>\r\n        {/* 公开路由 */}\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/register\" element={<Register />} />\r\n        \r\n        {/* 需要布局的路由 */}\r\n        <Route path=\"/\" element={<Layout />}>\r\n          <Route index element={<Home />} />\r\n          <Route path=\"profile/:userId\" element={<Profile />} />\r\n          <Route path=\"post/:postId\" element={<PostDetail />} />\r\n          \r\n          {/* 需要登录的路由 */}\r\n          {isAuthenticated && (\r\n            <>\r\n              <Route path=\"create-post\" element={<CreatePost />} />\r\n              <Route path=\"bookmarks\" element={<Bookmarks />} />\r\n              <Route path=\"conversations\" element={<Conversations />} />\r\n            </>\r\n          )}\r\n        </Route>\r\n        \r\n        {/* 私信页面（不需要布局） */}\r\n        {isAuthenticated && (\r\n          <Route path=\"chat/:conversationId\" element={<Chat />} />\r\n        )}\r\n        \r\n        {/* 404页面 */}\r\n        <Route path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,OAASC,YAAY,KAAQ,oBAAoB,CACjD,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEC,eAAgB,CAAC,CAAGnB,YAAY,CAAC,CAAC,CAE1C,mBACEa,IAAA,QAAKO,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBJ,KAAA,CAACnB,MAAM,EAAAuB,QAAA,eAELR,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEV,IAAA,CAACV,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CU,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEV,IAAA,CAACT,QAAQ,GAAE,CAAE,CAAE,CAAC,cAGjDa,KAAA,CAAClB,KAAK,EAACuB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEV,IAAA,CAACZ,MAAM,GAAE,CAAE,CAAAoB,QAAA,eAClCR,IAAA,CAACd,KAAK,EAACyB,KAAK,MAACD,OAAO,cAAEV,IAAA,CAACX,IAAI,GAAE,CAAE,CAAE,CAAC,cAClCW,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,iBAAiB,CAACC,OAAO,cAAEV,IAAA,CAACR,OAAO,GAAE,CAAE,CAAE,CAAC,cACtDQ,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,cAAc,CAACC,OAAO,cAAEV,IAAA,CAACP,UAAU,GAAE,CAAE,CAAE,CAAC,CAGrDa,eAAe,eACdF,KAAA,CAAAF,SAAA,EAAAM,QAAA,eACER,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,aAAa,CAACC,OAAO,cAAEV,IAAA,CAACN,UAAU,GAAE,CAAE,CAAE,CAAC,cACrDM,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEV,IAAA,CAACL,SAAS,GAAE,CAAE,CAAE,CAAC,cAClDK,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,eAAe,CAACC,OAAO,cAAEV,IAAA,CAACJ,aAAa,GAAE,CAAE,CAAE,CAAC,EAC1D,CACH,EACI,CAAC,CAGPU,eAAe,eACdN,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,sBAAsB,CAACC,OAAO,cAAEV,IAAA,CAACH,IAAI,GAAE,CAAE,CAAE,CACxD,cAGDG,IAAA,CAACd,KAAK,EAACuB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEV,IAAA,CAACF,QAAQ,GAAE,CAAE,CAAE,CAAC,EACnC,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAO,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}